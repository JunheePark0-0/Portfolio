# 🎵 #오늘 #듣기 #좋은 #노래 (Diary-based Music Recommendation System)

## 📖 프로젝트 개요

**#오늘 #듣기 #좋은 #노래**는 사용자가 작성한 **일기(Diary)**에서 감정과 주요 키워드를 추출하고, 이를 분석하여 **오늘의 기분과 상황에 딱 맞는 노래를 추천**해주는 NLP 기반 추천 시스템 프로젝트입니다.

기존의 청취 이력 기반 추천(Collaborative Filtering)이 아닌, 텍스트의 의미적 유사성을 활용한 **콘텐츠 기반 필터링(Content-based Filtering)** 방식을 채택하여, 사용자의 '현재' 감정에 집중한 맞춤형 추천을 제공합니다.

## ✨ 핵심 프로세스 및 전략

### 1. 프로젝트 방향성 설계
-   **데이터 대체 전략**: 초기 사용자 데이터 부족 문제를 해결하기 위해 '사용자'를 '멜론 DJ 플레이리스트'로, '사용자 특성'을 '해시태그'로 대체하여 모델링했습니다.
-   **추천 트랙 이원화**: 플레이리스트 추천(Track 1)과 개별 곡 추천(Track 2)으로 나누어 사용자 선택의 폭을 넓혔습니다.

### 2. 데이터 수집 및 최적화 (Crawling)
-   **Melon 크롤링**: 인기 차트, 장르별 차트, DJ 플레이리스트 데이터를 수집했습니다.
-   **성능 개선**: 불필요한 로딩 대기 시간을 제거하고 데이터 추출 로직을 통합하여 크롤링 속도를 **50% 이상 단축**했습니다.

### 3. LLM 기반 데이터 가공 (Tagging)
-   **Solar LLM (가사 분석)**: 약 5만 곡의 가사를 분석하여 곡의 분위기를 나타내는 핵심 태그를 추출했습니다.
-   **OpenAI GPT-3.5 (일기 분석)**: 사용자의 일기에서 '감정(Emotion)'과 '상황(Situation)' 키워드를 구조화된 형태로 추출하는 프롬프트 엔지니어링을 적용했습니다.

### 4. 추천 알고리즘 개발 (Modeling)
-   **Embedding**: `Word2Vec`(자체 학습)과 `FastText`(Pre-trained)를 활용하여 태그와 키워드를 벡터 공간에 매핑했습니다.
-   **유사도 계산**: 일기 벡터와 노래/플레이리스트 벡터 간의 **코사인 유사도(Cosine Similarity)**를 계산하여 가장 적합한 콘텐츠를 추천합니다.
-   **OOV 처리**: 학습 데이터에 없는 단어가 입력될 경우를 대비한 예외 처리 로직을 구현했습니다.

## 📂 프로젝트 구조

```
#오늘#듣기#좋은#노래/
├── Crawling/              # 멜론 데이터 크롤링 코드
│   ├── Crawling_Chart.ipynb
│   ├── Crawling_Genre.ipynb
│   └── Crawling_Playlist.ipynb
│
├── Tagging/               # LLM 활용 텍스트 태깅 코드
│   ├── [OpenAI] Diary Tags.ipynb   # 일기에서 키워드 추출
│   └── [Solar] Lyrics Keywords.ipynb # 가사에서 키워드 추출
│
├── Model/                 # 임베딩 모델 학습 및 저장
│   ├── Word2Vec_Training.ipynb
│   ├── FastText_Pretrained.ipynb
│   └── Embedding.ipynb
│
├── Final Code.ipynb       # 전체 파이프라인 통합 및 추천 데모
│
└── README.md              # 프로젝트 설명 파일
```

## 🛠️ 주요 구성 요소

-   **`Crawling/`**: 멜론 웹사이트 구조에 맞춰 최적화된 크롤러 스크립트들이 포함되어 있습니다.
-   **`Tagging/`**: LLM API(OpenAI, Solar)를 호출하여 비정형 텍스트(일기, 가사)를 정형화된 태그 리스트로 변환하는 노트북입니다.
-   **`Model/`**: 수집된 태그 데이터를 바탕으로 Word2Vec 모델을 학습시키거나, FastText 모델을 로드하여 벡터화를 수행하는 코드입니다.
-   **`Final Code.ipynb`**: 데이터 로드부터 태깅, 임베딩, 유사도 계산, 최종 추천 결과 출력까지의 전체 과정을 시연하는 메인 노트북입니다.

## 🚀 실행 방법

1.  **데이터 수집 (선택)**: `Crawling/` 폴더의 노트북을 실행하여 최신 멜론 데이터를 수집합니다. (기존 데이터 사용 시 생략 가능)
2.  **API 키 설정**: `Tagging/` 및 `Final Code.ipynb` 실행을 위해 `.env` 파일에 `OPENAI_API_KEY` 등을 설정합니다.
3.  **추천 시스템 실행**: `Final Code.ipynb`를 실행하고, 일기 텍스트를 입력하면 추천 결과를 확인할 수 있습니다.

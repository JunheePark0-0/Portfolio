# 프롬프트 템플릿
# 이 파일의 프롬프트를 수정하여 더 나은 교정 성능을 달성하세요!

baseline_prompt = (
"""
필요한 설명 없이 변환된 문장만 한 줄로 출력해.

0. 목적
- 한문·고전문 + 누락된 글자(□)를 포함한 문장을 두 단계 변환 절차로 처리한다.
- 원문의 모든 정보를 보존하면서 매우 자연스러운 2025년 한국어 기사체로 변환한다.
- multi-turn 검토를 통해 자연스러움과 정확성을 추가 개선한다.

1. 필수 변환 원칙
① 내용 누락 절대 금지
- 원문에 존재하는 정보는 단어 단위까지 모두 보존한다.
- 한문 어휘, 조건, 인과, 대조 구조, 수식(數值), 고유명사, 시간·장소 정보 등을 빠짐없이 유지한다.
- 문장 구조가 아무리 부자연스러워 보여도 삭제하거나 축약하지 않는다.
- 하나의 문장이 너무 길더라도 문장 분리 없이 원문 정보량을 보존한다.

② □ 복원 원칙(강화 + 특수문자 추가)
- □는 문맥상 자연스러운 **최소 단위(단어 또는 짧은 구)**로만 복원한다.
- 과도한 의미 확장 금지.
- ‘임의 추측 단어’ 금지.
- 『 』 「 」 《 》 〈 〉 【 】 ▲ ★ ● 등 특수문자·기호는 원문 그대로 유지하고 변경하지 않는다.
- 기호 옆이나 안에 있는 □는 기호 구조를 유지한 채 복원한다. (예: 『□ 정책』 → 『신규 정책』)

③ 띄어쓰기 원칙
- 2025년 표준국어대사전 띄어쓰기 기준 적용 + 다음 세부 규칙을 반드시 따른다.
가. 조사
- 조사(이/가, 은/는, 을/를, 에, 에서, 으로, 에게, 뿐 등)는 항상 붙여쓴다.
- 한문 구조를 그대로 베끼지 않고 현대 한국어 기준으로 조사 위치를 조정한다.
나. 명사 결합
- 명사 + 명사 결합이 의미 단위에 따라 띄어쓰기 여부를 결정한다. (예: 국가 정책, 기업 진단 결과 검토, 정보 처리, 데이터 분석)
- 특히 원문에서 모두 붙어 있는 경우에도, 의미 단위별로 정확히 분할해 표준적으로 띄어쓴다.
다. 의존명사
- 것, 수, 점, 차, 때, 바, 데 등은 앞말과 반드시 띄어쓴다.
라. 한자어·전문어
- 관례적으로 띄어쓰는 표현은 그대로 따른다. (예: 기술 개선, 정책 시행, 업무 보고, 성 안, 산 위)
- 한문 투 표현을 해석할 때 띄어쓰기가 불명확하면 의미 단위 기준으로 재구성한다.
마. 접속어·부사
- 현대 국어 관용 표기 우선 (예: 또한, 다만, 그러나, 결국, 즉, 특히, 한편, 동시에)
바. 동사·형용사 파생 접미사
- 되다/하다 파생은 모두 붙여쓴다. (적용하다, 개선되다, 분석하다, 작성하다 등.)

④ 조사 사용 원칙
- ‘의’는 소유·귀속·설명 관계에서만 사용.
- ‘에’는 장소·시간·상태·기준에만 사용.
- 한문 직역으로 인해 잘못 붙을 위험이 있는 조사는 현대문 문맥 기준으로 재배치한다.
- ‘으로, 에게, 에서, 마다, 뿐, 따위’ 등도 의미 기준으로 정확히 배치한다.
- 조사 선택으로 의미 왜곡이 생기지 않도록 엄격히 검토한다.

⑤ 현대 한국어 자연스러움 유지
- 2025년 기사체 스타일로 문장을 정제한다.
- 고어·한문투를 완전히 제거한다. (예: 하야 → 하여 / 생케 함 → 발생하도록 한다.)
- 문장은 간결하고 매끄럽게 정리하되
- 원문 정보가 손실되지 않도록 재배치만 한다.
- ‘~하게 하다/되다’는 자연스러운 구조로 수정한다.
- 필요하면 문장 안에서 순서만 재정렬해 자연스러움 증가, 내용 삭제 금지.

⑥ 정보 왜곡·추가 금지
- 원문에 없는 정보나 추론·해석·배경지식을 추가하지 않는다.
- 비유, 예시, 설명도 추가하지 않는다.
- 원문에서 명시되지 않은 논리관계(인과·대조·조건)를 새로 삽입하지 않는다.
- 수치·사람·지명·시간 정보는 그대로 유지한다.

2. 2단계 번역 절차
(1단계) 중간 직역문 생성
- 한문 어휘의 가장 기본 의미를 사용하여 가능한 한 직역에 가깝게 구성한다.
- 조사·어순 수정 최소화.
- 이 단계에서는 자연스러움보다 원문 의미 보존과 정보 매핑을 우선한다.
- 반쯤 기계 번역된 듯한 직역 한국어 형태여도 된다.
(2단계) 현대 한국어 기사체로 재작성
- 1단계 문장을 기반으로 어순·조사·구조를 현대 한국어에 맞게 재조정한다.
- 의미 손실이나 추가 없이 정제만 수행한다.
- 전문어·행정어·고문체를 모두 현대적 어휘로 변환한다.
- 문장은 필요하면 길게 유지하되 자연스럽게 재배열한다.

3. Multi-Turn 자연스러움 개선 절차
- 번역·변환 작업은 1단계 중간문 생성 → 2단계 현대 한국어 기사문 작성 순서로 진행하며, 이를 1차 출력으로 제시한다.
- 1차 출력 후 모델은 문장의 자연스러움, 문체 일관성, 조사·어휘 선택, 띄어쓰기, 한문투 잔재 등을 자체적으로 점검한다.
- 1차 결과에 어색한 부분이 있다고 판단되면, 사용자가 별도로 요청하지 않아도 **내용 누락 없이 표현만 조정한 ‘2차 자동 정제본(Auto-Refined Version)’**을 함께 제공한다.
- 자동 정제 과정에서는 다음 규칙을 반드시 지킨다:
    - 의미·정보 삭제 금지
    - 의미 확장·추가 금지
    - 논리 구조나 서술 순서의 임의 변경 금지
    - 단어·문장 표현만 현대 기사체 기준에 맞게 조정
- 필요하다고 판단되는 경우, 자연스러움과 원문 보존의 균형을 고려해 3차 정제본까지 생성할 수 있다.
- 이 역시 내용 누락이나 과도한 의미 변형 없이 표현만 조정한다.

4. Few-Shot 변환 예시
예시 1 — ‘에 / 의’ 구분 포함
입력:
君主之命에 따라 움직였다.
출력:
군주의 명령에 따라 움직였다.

예시 2 — 한문 문장 자연스러운 번역
입력:
山上에 雨水의 흔적이 남아 있다.
출력:
산 위에 빗물의 흔적이 남아 있다.

예시 3 — 고전 → 현대 기사체
입력:
我軍이 城中에 들어가 民心을 안정시켰다.
출력:
아군이 성 안에 들어가 민심을 안정시켰다.

예시 4 — □ 최소 단위 복원
입력:
農家는 □ 능력을 다해 씨앗을 뿌렸다.
출력:
농가는 온 능력을 다해 씨앗을 뿌렸다.

예시 5 — 한문 문장 전체 번역
입력:
技術上改良은 亦是嶄新한機械를使用하야 最善良한效果를 生케함을 留意할지라.
(1단계 중간문)
기술상 개량은 또한 참신한 기계를 사용해 최선의 효과를 내게 함을 유의해야 한다.
(2단계 현대문)
기술적 개선은 새로운 기계를 사용해 최선의 효과를 내도록 유의해야 한다.

예시 6 — 과다 결합 명사 띄어쓰기 교정
입력:
지역발전전략수립지원단회의가 개최되었다.
출력:
지역 발전 전략 수립 지원단 회의가 개최되었다.

예시 7 — 특수기호 + □ 복원
입력:
『□ 정책』은 올해부터 전면적으로 시행될 예정이다.
출력:
『신규 정책』은 올해부터 전면적으로 시행될 예정이다.

예시 8 — 특수기호 보존 + 한문 혼합
입력:
《經濟政策要綱》에 따르면 改革의方向은 명확하다.
출력:
《경제 정책 요강》에 따르면 개혁의 방향은 명확하다.

예시 9 — □가 기호 내부에 포함된 경우
입력:
「지역 개발 □ 보고서」를 검토하였다.
출력:
「지역 개발 종합 보고서」를 검토하였다.

예시 10 — 한문 문장 + 현대 기사문 변환
입력:
官府는 城邑의百姓을 安慰하야 民心의動揺를 撫平할 것을 命하였다.
(1단계 중간문)
관부는 성읍의 백성을 위로해 민심의 동요를 무마할 것을 명하였다.
(2단계 현대문)
관청은 성 안의 백성을 안정시키고 민심의 동요를 진정시키라고 지시했다.

예시 11 — 한문투 제거 + 조사 재배치
입력:
彼處에 水田의擴張이 難하니 速히 計劃을修正할지라.
(1단계)
저곳에 수전의 확장이 어렵으니 속히 계획을 수정해야 한다.
(2단계)
그 지역은 논을 확장하기 어렵기 때문에 계획을 서둘러 조정해야 한다.

예시 12 — 내용 누락 없이 자연스럽게 정리
입력:
새로운 절차는 기존의 보고 체계를 보완함으로써 업무의 효율성을 높이기 위한 것이다.
출력:
새 절차는 기존 보고 체계를 보완해 업무 효율성을 높이기 위한 조치다.

예시 13 — □ 최소 단위 복원 + 과도한 확대 금지
입력:
조사단은 □ 자료를 바탕으로 결론을 제시했다.
출력:
조사단은 핵심 자료를 바탕으로 결론을 제시했다.

예시 14 — 한문 문장 + 긴 문장 유지
입력:
國家施策의變更은 地方行政의運用에 多大한影響을及ぼ을 것이므로, 各府는 迅速히報告를 提出할지라.
(1단계)
국가 시책의 변경은 지방 행정의 운용에 다대한 영향을 미칠 것이므로 각 부는 신속히 보고를 제출해야 한다.
(2단계)
국가 시책 변경은 지방 행정 운영에 큰 영향을 미치기 때문에 각 부서는 관련 보고를 신속히 제출해야 한다.

예시 15 — 한문체 구문을 자연스럽게 치환
입력:
彼等의行爲로 因하야 地區의安全이 攪亂되었느니라.
(1단계)
그들의 행위로 인해 지역의 안전이 교란되었다.
(2단계)
그들의 행동 때문에 지역의 안전이 크게 흔들렸다.

예시 16 — 한문 구조로 인해 잘못 붙은 ‘의’/‘에’ 바로잡기
입력:
軍隊之南部地域에 移動을 開始하였다.
출력:
군대는 남부 지역으로 이동을 시작했다.

예시 17 — 기호 + 한문 + □ 복원 복합
입력:
▲ 國防政策의主要目標은 □ 安全體系의確立이다.
출력:
▲ 국방 정책의 주요 목표는 국가 안전 체계의 확립이다.

예시 18 — 명사구 내부 조정 + 자연스러운 현대어
입력:
정부는 산업발전촉진대책을 재정비한다고 밝혔다.
출력:
정부는 산업 발전 촉진 대책을 재정비한다고 밝혔다.

예시 19 — 한문 문장 다층 구조 처리
입력:
此令은 來月에施行하야 各郡의行政을 改善하고 百姓의生活을 安定케할것이라.
(1단계)
이 명령은 내월에 시행해 각 군의 행정을 개선하고 백성의 생활을 안정하게 할 것이다.
(2단계)
이 명령은 다음 달부터 시행되어 각 군의 행정을 개선하고 주민 생활을 안정시키게 될 것이다.


원문:
{text}
"""
    .strip()
)

